import{a as B,b as ne,c as oe}from"./chunk-UQL2HAU4.js";import{c as L,d as x,f as p,g as _}from"./chunk-PUAS7KUQ.js";import{c as ee,e as O,l as te,n as ie}from"./chunk-CVRC3YX3.js";import{$a as d,Ba as r,Ia as y,N as Y,Na as M,Qa as m,Ra as N,Sa as S,T as F,Ta as W,Ua as U,Va as H,Wa as o,X as w,Xa as a,Ya as l,Za as D,_a as C,a as V,ab as c,b as q,bb as g,cb as A,ea as u,fa as h,ga as f,ha as T,ib as I,jb as Z,kb as v,l as Q,lb as E,mb as $,pa as J,qa as k,v as R,ya as K}from"./chunk-ZC7KW5BE.js";function ce(t,i){if(t&1&&(o(0,"del",9),c(1),v(2,"dotSeparator"),a()),t&2){let e=d();r(),A("",E(2,1,e.dish().priceOutdated),"\u20AB")}}function le(t,i){if(t&1){let e=D();o(0,"div",10)(1,"button",12),C("click",function(){u(e);let s=d();return s.onUpdateQuantity(1),h(s.onShowAmountControl())}),f(),o(2,"svg",13),l(3,"path",14),a()()()}t&2&&m("@fadeInOut",void 0)}function de(t,i){if(t&1){let e=D();o(0,"div",11)(1,"button",15),C("click",function(){u(e);let s=d();return h(s.onUpdateQuantity(-1))}),f(),o(2,"svg",16),l(3,"path",17),a()(),T(),o(4,"span",18),c(5),a(),o(6,"button",19),C("click",function(){u(e);let s=d();return h(s.onUpdateQuantity(1))}),f(),o(7,"svg",13),l(8,"path",14),a()()()}if(t&2){let e=d();m("@slide",void 0),r(5),g(e.dish().quantity)}}var P=class t{updateQuantity=J();dish=k.required();showAmountControl=y(!1);onUpdateQuantity(i){let e=this.dish();i<=-1&&!e.quantity||(i<=-1&&e.quantity===1&&this.showAmountControl.set(!1),this.updateQuantity.emit({dish:e,quantity:i}))}onShowAmountControl(){this.showAmountControl.set(!0)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=w({type:t,selectors:[["app-dish"]],inputs:{dish:[1,"dish"]},outputs:{updateQuantity:"updateQuantity"},standalone:!0,features:[I],decls:15,vars:8,consts:[[1,"p-2","d-flex","align-items-end","gap-2","bg-white","dish"],[1,"w-100","d-flex","gap-2"],[1,"thumbnail"],["alt","dishes",1,"w-100","h-100","d-block",3,"src"],[1,"flex-1","d-flex","flex-column","justify-content-between"],[1,"fs-md"],[1,"d-flex","justify-content-between","align-items-center","lh-1"],[1,"d-flex","align-items-end","gap-2"],[1,"fs-sm","price"],[1,"price","outdated"],[1,"d-block"],[1,"d-flex","align-items-center"],[1,"d-flex","align-items-center","justify-content-center","c-bg-primary","text-white","rounded-circle","btn-add",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-plus"],["d","M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"],[1,"d-flex","align-items-center","justify-content-center","rounded-2","btn-amount",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-dash"],["d","M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8"],[1,"d-block","text-center","fs-sm","quantity"],[1,"d-flex","align-items-center","justify-content-center","rounded-2","btn-amount","btn-amount--increase",3,"click"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2),l(3,"img",3),a(),o(4,"div",4)(5,"p",5),c(6),a(),o(7,"div",6)(8,"div",7)(9,"p",8),c(10),v(11,"dotSeparator"),a(),M(12,ce,3,3,"del",9),a(),M(13,le,4,1,"div",10)(14,de,9,2,"div",11),a()()()()),e&2&&(r(3),m("src",n.dish().avatar,K),r(3),g(n.dish().title),r(4),A("",E(11,6,n.dish().price),"\u20AB"),r(2),S(n.dish().priceOutdated?12:-1),r(),S(n.showAmountControl()?-1:13),r(),S(n.showAmountControl()?14:-1))},dependencies:[O,B],styles:[".thumbnail[_ngcontent-%COMP%]{width:64px;height:64px}.dish-description[_ngcontent-%COMP%]{font-size:9px;color:#5c5c5c}.price[_ngcontent-%COMP%]{color:var(--c-secondary);font-weight:500}.price.outdated[_ngcontent-%COMP%]{font-size:11px;color:#5c5c5c}.btn-amount[_ngcontent-%COMP%], .btn-add[_ngcontent-%COMP%]{width:20px;height:20px}.btn-amount[_ngcontent-%COMP%]{border:1px solid currentColor;color:gray}.btn-amount--increase[_ngcontent-%COMP%]{color:var(--c-primary);background-color:var(--c-primary-100)}.quantity[_ngcontent-%COMP%]{min-width:24px}"],data:{animation:[L("slide",[_(":enter",[p({opacity:0,transform:"translateX(100%)"}),x("200ms ease-in",p({opacity:1,transform:"translateX(0%)"}))]),_(":leave",[x("200ms ease-out",p({opacity:0,transform:"translateX(100%)"}))])]),L("fadeInOut",[_(":enter",[p({opacity:0}),x("200ms 300ms ease-in",p({opacity:1}))])])]},changeDetection:0})};var G=class t{selectingDishes=k.required();static \u0275fac=function(e){return new(e||t)};static \u0275cmp=w({type:t,selectors:[["app-cart"]],inputs:{selectingDishes:[1,"selectingDishes"]},standalone:!0,features:[I],decls:14,vars:10,consts:[["routerLink","/selecting",1,"px-3","w-100","text-white","d-flex","align-items-center","justify-content-between","cart"],[1,"d-flex","align-items-center","gap-2"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-cart3"],["d","M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .49.598l-1 5a.5.5 0 0 1-.465.401l-9.397.472L4.415 11H13a.5.5 0 0 1 0 1H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5M3.102 4l.84 4.479 9.144-.459L13.89 4zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4m7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4m-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2m7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-chevron-right"],["fill-rule","evenodd","d","M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708"]],template:function(e,n){e&1&&(o(0,"button",0)(1,"span",1),f(),o(2,"svg",2),l(3,"path",3),a(),T(),o(4,"span"),c(5),v(6,"total"),a()(),o(7,"span",1)(8,"span"),c(9),v(10,"total"),v(11,"dotSeparator"),a(),f(),o(12,"svg",4),l(13,"path",5),a()()()),e&2&&(r(5),g($(6,2,n.selectingDishes(),"dishes")),r(4),A("",E(11,8,$(10,5,n.selectingDishes(),"price")),"\u20AB"))},dependencies:[ie,te,O,ne,B],styles:[".cart[_ngcontent-%COMP%]{height:60px;background-color:var(--c-primary);font-size:16px}"],changeDetection:0})};var j=class t{constructor(){}getCategories(){return Q([{id:1,title:"COMBO",selected:!1},{id:2,title:"M\xF3n G\xE0",selected:!0},{id:3,title:"C\u01A1m & Canh",selected:!1},{id:4,title:"C\xE1c M\xF3n L\u1EA9u",selected:!1},{id:5,title:"\u0110\u1ED3 U\u1ED1ng",selected:!1},{id:1,title:"COMBO",selected:!1},{id:2,title:"M\xF3n G\xE0",selected:!0},{id:3,title:"C\u01A1m & Canh",selected:!1},{id:4,title:"C\xE1c M\xF3n L\u1EA9u",selected:!1},{id:5,title:"\u0110\u1ED3 U\u1ED1ng",selected:!1}])}getDishes(){return Q([{id:1,title:"G\xE0 Vi\xEAn H\xE0nh T\xE2y S\u1ED1t Kem",description:"Su\u1EA5t g\xE0 d\xE0nh cho 1-2 ng\u01B0\u1EDDi. G\u1ED3m g\xE0 vi\xEAn chi\xEAn quy\u1EC7n c\xF9ng s\u1ED1t kem b\xE9o ng\u1EADy.",price:18e4,priceOutdated:199e3,avatar:"images/dishes/pic01.jpg",categoryId:2,status:"AVAILABLE",quantity:0},{id:2,title:"G\xE0 S\u1ED1t Ng\u1ECDt",description:"Su\u1EA5t g\xE0 d\xE0nh cho 1-2 ng\u01B0\u1EDDi. G\u1ED3m 5 mi\u1EBFng g\xE0 chi\xEAn gi\xF2n c\xF9ng s\u1ED1t ng\u1ECDt \u0111\u1ED9c quy\u1EC1n nh\xE0 No...",price:17e4,priceOutdated:null,avatar:"images/dishes/pic02.jpg",categoryId:2,status:"AVAILABLE",quantity:0},{id:3,title:"G\xE0 L\u1EAFc Ph\xF4 Mai",description:"Su\u1EA5t g\xE0 d\xE0nh cho 1-2 ng\u01B0\u1EDDi. G\u1ED3m 5 mi\u1EBFng g\xE0 chi\xEAn gi\xF2n l\u1EAFc c\xF9ng b\u1ED9t ph\xF4 mai m\u1ECBn th\u01A1m...",price:18e4,priceOutdated:null,avatar:"images/dishes/pic03.jpg",categoryId:2,status:"AVAILABLE",quantity:0},{id:4,title:"G\xE0 R\xE1n",description:"Su\u1EA5t g\xE0 d\xE0nh cho 1-2 ng\u01B0\u1EDDi. G\u1ED3m 5 mi\u1EBFng g\xE0 chi\xEAn gi\xF2n.",price:15e4,priceOutdated:2e5,avatar:"images/dishes/pic04.jpg",categoryId:2,status:"AVAILABLE",quantity:0},{id:5,title:"G\xE0 Gi\xF2n X\xEC D\u1EA7u",description:"Su\u1EA5t g\xE0 d\xE0nh cho 1-2 ng\u01B0\u1EDDi. G\u1ED3m 5 mi\u1EBFng g\xE0 chi\xEAn gi\xF2n t\u1EAFm s\u1ED1t x\xEC d\u1EA7u th\u01A1m ngon.",price:175e3,priceOutdated:null,avatar:"images/dishes/pic05.jpg",categoryId:2,status:"AVAILABLE",quantity:0},{id:6,title:"C\xE1nh \u0110\xF9i M\u1EADt Ong",description:"Su\u1EA5t g\xE0 d\xE0nh cho 1-2 ng\u01B0\u1EDDi. G\u1ED3m 5 mi\u1EBFng g\xE0 chi\xEAn gi\xF2n t\u1EAFm s\u1ED1t x\xEC d\u1EA7u th\u01A1m ngon.",price:175e3,priceOutdated:null,avatar:"images/dishes/pic06.jpg",categoryId:2,status:"AVAILABLE",quantity:0},{id:7,title:"C\xE1nh \u0110\xF9i M\u1EADt Ong",description:"Su\u1EA5t g\xE0 d\xE0nh cho 1-2 ng\u01B0\u1EDDi. G\u1ED3m 5 mi\u1EBFng g\xE0 chi\xEAn gi\xF2n t\u1EAFm s\u1ED1t x\xEC d\u1EA7u th\u01A1m ngon.",price:175e3,priceOutdated:null,avatar:"images/dishes/pic07.jpg",categoryId:2,status:"AVAILABLE",quantity:0},{id:8,title:"C\xE1nh \u0110\xF9i M\u1EADt Ong",description:"Su\u1EA5t g\xE0 d\xE0nh cho 1-2 ng\u01B0\u1EDDi. G\u1ED3m 5 mi\u1EBFng g\xE0 chi\xEAn gi\xF2n t\u1EAFm s\u1ED1t x\xEC d\u1EA7u th\u01A1m ngon.",price:175e3,priceOutdated:null,avatar:"images/dishes/pic08.jpg",categoryId:2,status:"AVAILABLE",quantity:0}])}static \u0275fac=function(e){return new(e||t)};static \u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})};var pe=(t,i)=>i.id,me=()=>({marginBottom:"64px"});function ge(t,i){if(t&1){let e=D();o(0,"li",7)(1,"button",8),C("click",function(){let s=u(e).$implicit,b=d();return h(b.onSelectCategory(s))}),c(2),a()()}if(t&2){let e=i.$implicit;N("c-text-primary",e.selected)("active",e.selected),r(2),g(e.title)}}function ue(t,i){if(t&1){let e=D();o(0,"li",9)(1,"app-dish",10),C("updateQuantity",function(s){u(e);let b=d();return h(b.onUpdateQuantity(s))}),a()()}if(t&2){let e=i.$implicit,n=i.$index;N("mt-2",n!==0),r(),m("dish",e)}}function he(t,i){if(t&1&&(o(0,"div",6),l(1,"app-cart",11),a()),t&2){let e=d();m("@slideInOutAnimation",void 0),r(),m("selectingDishes",e.selectingDishes())}}var re=class t{categoryService=F(j);cartService=F(oe);dishes=y([]);selectingDishes=y([]);selectedCategoryTitle=y("");categories=y([]);isOpen=!0;onToggle(){this.isOpen=!this.isOpen}ngOnInit(){R({categories:this.categoryService.getCategories(),dishes:this.categoryService.getDishes()}).subscribe(({categories:i,dishes:e})=>{let n=i.find(s=>s.selected);this.selectedCategoryTitle.set(n?.title??""),this.categories.set(i),this.cartService.selectingDishes.subscribe(s=>{this.selectingDishes.set(s),e=e.map(b=>{let X=s.find(se=>se.id===b.id);return X?V({},X):q(V({},b),{quantity:0})}),this.dishes.set(e)})})}onSelectCategory(i){this.selectedCategoryTitle.set(i.title),this.categories.update(e=>e.map(n=>q(V({},n),{selected:n.id===i.id})))}onUpdateQuantity({dish:i,quantity:e}){this.cartService.updateSelectingDishes(i,e)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=w({type:t,selectors:[["app-category"]],standalone:!0,features:[I],decls:10,vars:4,consts:[[1,"category-page"],[1,"d-flex","justify-content-between","list-unstyled","text-nowrap","overflow-auto","bg-white","categories"],[1,"category",3,"c-text-primary","active"],[1,"px-3","text-uppercase","c-text-secondary"],[1,"px-3","py-2","list-unstyled","dishes",3,"ngStyle"],[1,"border","rounded","overflow-hidden",3,"mt-2"],[1,"position-fixed","cart"],[1,"category"],[1,"border-0","btn","fs-sm",3,"click"],[1,"border","rounded","overflow-hidden"],[3,"updateQuantity","dish"],[3,"selectingDishes"]],template:function(e,n){e&1&&(o(0,"section",0)(1,"ul",1),U(2,ge,3,5,"li",2,pe),a(),o(4,"p",3),c(5),a(),o(6,"ul",4),U(7,ue,2,3,"li",5,W),a(),M(9,he,2,2,"div",6),a()),e&2&&(r(2),H(n.categories()),r(3),g(n.selectedCategoryTitle()),r(),m("ngStyle",Z(3,me)),r(),H(n.dishes()),r(2),S(n.selectingDishes().length>0?9:-1))},dependencies:[O,ee,P,G],styles:[".category[_ngcontent-%COMP%]{border-bottom:2px solid transparent}.category.active[_ngcontent-%COMP%]{border-color:currentColor}.cart[_ngcontent-%COMP%]{bottom:0;left:0;right:0}"],data:{animation:[L("slideInOutAnimation",[_(":enter",[p({opacity:0,transform:"translateY(100%)"}),x("300ms ease-in",p({opacity:1,transform:"translateY(0)"}))]),_(":leave",[x("300ms ease-out",p({opacity:0,transform:"translateY(100%)"}))])])]},changeDetection:0})};export{re as CategoryComponent};
